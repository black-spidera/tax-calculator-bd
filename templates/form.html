<!DOCTYPE html>
<html lang="en">
<head>
  <title>BD Income Tax Calculator</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center">
  <div class="w-full max-w-2xl bg-white rounded-xl shadow-lg p-8 mt-8">
    <div class="flex justify-between items-center mb-6">
      <h2 id="title" class="text-2xl font-bold text-gray-800"> Bangladesh Tax Calculator (FY 2024–25)</h2>
      <select id="lang" class="border rounded px-2 py-1 text-sm">
        <option value="en">EN</option>
        <option value="bn">BN</option>
      </select>
    </div>
    <form method="post" action="/calculate" class="space-y-4">
      <div>
        <label id="gender_label" class="block mb-1 font-medium">Gender</label>
        <select name="gender" class="w-full border rounded px-3 py-2">
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>
      <div>
        <label id="marital_label" class="block mb-1 font-medium">Marital Status</label>
        <select name="marital_status" class="w-full border rounded px-3 py-2">
          <option value="single">Single</option>
          <option value="married">Married</option>
        </select>
      </div>
      <div>
        <label id="age_label" class="block mb-1 font-medium">Age</label>
        <input type="number" name="age" value="30" class="w-full border rounded px-3 py-2">
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div class="relative group">
          <label id="salary1_label" class="block mb-1 font-medium flex items-center">Monthly Salary (Jun-Dec)
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="salary1_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="salary1" value="30000" class="w-full border rounded px-3 py-2">
        </div>
        <div class="relative group">
          <label id="salary2_label" class="block mb-1 font-medium flex items-center">Monthly Salary (Jan-May)
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="salary2_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="salary2" value="40000" class="w-full border rounded px-3 py-2">
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div class="relative group">
          <label id="bonus_label" class="block mb-1 font-medium flex items-center">Bonus
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="bonus_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="bonus" value="40000" class="w-full border rounded px-3 py-2">
        </div>
        <div class="relative group">
          <label id="freelance_label" class="block mb-1 font-medium flex items-center">Freelance Income
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="freelance_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="freelance" value="0" class="w-full border rounded px-3 py-2">
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div class="relative group">
          <label id="rental_label" class="block mb-1 font-medium flex items-center">Rental Income
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="rental_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="rental" value="0" class="w-full border rounded px-3 py-2">
        </div>
        <div class="relative group">
          <label id="other_label" class="block mb-1 font-medium flex items-center">Other Income
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="other_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="other" value="0" class="w-full border rounded px-3 py-2">
        </div>
      </div>
      <hr class="my-2">
      <div class="relative group">
        <label id="rent_label" class="block mb-1 font-medium flex items-center">House Rent Monthly
          <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
            <span id="rent_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
          </span>
        </label>
        <input type="number" name="rent" value="16000" class="w-full border rounded px-3 py-2">
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div class="relative group">
          <label id="life_label" class="block mb-1 font-medium flex items-center">Life Insurance
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="life_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="life" value="0" class="w-full border rounded px-3 py-2">
        </div>
        <div class="relative group">
          <label id="nsc_label" class="block mb-1 font-medium flex items-center">NSC
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="nsc_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="nsc" value="0" class="w-full border rounded px-3 py-2">
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div class="relative group">
          <label id="dps_label" class="block mb-1 font-medium flex items-center">DPS
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="dps_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="dps" value="0" class="w-full border rounded px-3 py-2">
        </div>
        <div class="relative group">
          <label id="mutual_label" class="block mb-1 font-medium flex items-center">Mutual Fund
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="mutual_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="mutual" value="0" class="w-full border rounded px-3 py-2">
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div class="relative group">
          <label id="donation_label" class="block mb-1 font-medium flex items-center">Donation
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="donation_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="donation" value="0" class="w-full border rounded px-3 py-2">
        </div>
        <div class="relative group">
          <label id="energy_label" class="block mb-1 font-medium flex items-center">Energy Devices
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="energy_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="energy" value="0" class="w-full border rounded px-3 py-2">
        </div>
      </div>
      <div class="relative group">
        <label id="computer_label" class="block mb-1 font-medium flex items-center">Computer Purchase
          <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
            <span id="computer_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
          </span>
        </label>
        <input type="number" name="computer" value="0" class="w-full border rounded px-3 py-2">
      </div>
      <hr class="my-2">
      <div class="grid grid-cols-2 gap-4">
        <div class="relative group">
          <label id="conveyance_label" class="block mb-1 font-medium flex items-center">Conveyance Allowance (Yearly)
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="conveyance_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="conveyance" value="0" class="w-full border rounded px-3 py-2">
        </div>
        <div class="relative group">
          <label id="medical_label" class="block mb-1 font-medium flex items-center">Medical Allowance (Yearly)
            <span class="ml-1 cursor-pointer text-blue-500" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="white"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16v-4m0-4h.01" /></svg>
              <span id="medical_tip" class="absolute left-0 z-10 hidden group-hover:block group-focus:block bg-gray-800 text-white text-xs rounded px-3 py-2 w-56 mt-2 shadow-lg transition-all"></span>
            </span>
          </label>
          <input type="number" name="medical" value="0" class="w-full border rounded px-3 py-2">
        </div>
      </div>
      <button id="submit_btn" type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4">Calculate Tax</button>
    </form>
  </div>
  <script>
    // Language dictionary
    const dict = {
      en: {
        title: '🧾 Bangladesh Tax Calculator (FY 2024–25)',
        gender_label: 'Gender',
        marital_label: 'Marital Status',
        age_label: 'Age',
        salary1_label: 'Monthly Salary (Jun-Dec)',
        salary2_label: 'Monthly Salary (Jan-May)',
        bonus_label: 'Bonus',
        freelance_label: 'Freelance Income',
        rental_label: 'Rental Income',
        other_label: 'Other Income',
        rent_label: 'House Rent Monthly',
        life_label: 'Life Insurance',
        nsc_label: 'NSC',
        dps_label: 'DPS',
        mutual_label: 'Mutual Fund',
        donation_label: 'Donation',
        energy_label: 'Energy Devices',
        computer_label: 'Computer Purchase',
        conveyance_label: 'Conveyance Allowance (Yearly)',
        medical_label: 'Medical Allowance (Yearly)',
        submit_btn: 'Calculate Tax',
        male: 'Male',
        female: 'Female',
        single: 'Single',
        married: 'Married',
      },
      bn: {
        title: '🧾 বাংলাদেশ ট্যাক্স ক্যালকুলেটর (২০২৪–২৫)',
        gender_label: 'লিঙ্গ',
        marital_label: 'বৈবাহিক অবস্থা',
        age_label: 'বয়স',
        salary1_label: 'মাসিক বেতন (জুন-ডিসেম্বর)',
        salary2_label: 'মাসিক বেতন (জানুয়ারি-মে)',
        bonus_label: 'বোনাস',
        freelance_label: 'ফ্রিল্যান্স আয়',
        rental_label: 'ভাড়ার আয়',
        other_label: 'অন্যান্য আয়',
        rent_label: 'বাড়ি ভাড়া (মাসিক)',
        life_label: 'লাইফ ইন্স্যুরেন্স',
        nsc_label: 'এনএসসি',
        dps_label: 'ডিপিএস',
        mutual_label: 'মিউচুয়াল ফান্ড',
        donation_label: 'ডোনেশন',
        energy_label: 'এনার্জি ডিভাইস',
        computer_label: 'কম্পিউটার ক্রয়',
        conveyance_label: 'কনভেয়েন্স অ্যালাউন্স (বার্ষিক)',
        medical_label: 'মেডিকেল অ্যালাউন্স (বার্ষিক)',
        submit_btn: 'ট্যাক্স হিসাব করুন',
        male: 'পুরুষ',
        female: 'মহিলা',
        single: 'অবিবাহিত',
        married: 'বিবাহিত',
      }
    };
    // Tooltip explanations for EN and BN
    const tooltips = {
      en: {
        salary1_tip: 'Monthly salary for June to December. Example: 30000',
        salary2_tip: 'Monthly salary for January to May. Example: 40000',
        bonus_tip: 'Total yearly bonus received. Example: 40000',
        freelance_tip: 'Total freelance income in the year. Example: 20000',
        rental_tip: 'Total rental income in the year. Example: 0',
        other_tip: 'Other income (dividends, interest, etc.). Example: 0',
        rent_tip: 'Monthly house rent. Example: 16000',
        life_tip: 'Yearly life insurance premium. Example: 5000',
        nsc_tip: 'National Savings Certificate (NSC) yearly investment. Example: 100000',
        dps_tip: 'Deposit Pension Scheme (DPS) or pension fund yearly deposit. Example: 12000',
        mutual_tip: 'Investment in mutual funds or shares. Example: 50000',
        donation_tip: 'Donation to government welfare or PM fund (with receipt). Example: 2000',
        energy_tip: 'Energy-saving devices (fridge, fan, AC, etc.). Example: 15000',
        computer_tip: 'Computer/laptop purchase for education/profession. Example: 30000',
        conveyance_tip: 'Yearly conveyance allowance (tax exempt). Example: 0',
        medical_tip: 'Yearly medical allowance (tax exempt). Example: 0',
      },
      bn: {
        salary1_tip: 'জুন-ডিসেম্বর মাসের মাসিক বেতন। উদাহরণ: ৩০০০০',
        salary2_tip: 'জানুয়ারি-মে মাসের মাসিক বেতন। উদাহরণ: ৪০০০০',
        bonus_tip: 'বার্ষিক মোট বোনাস। উদাহরণ: ৪০০০০',
        freelance_tip: 'সারা বছরের ফ্রিল্যান্স আয়। উদাহরণ: ২০০০০',
        rental_tip: 'সারা বছরের ভাড়ার আয়। উদাহরণ: ০',
        other_tip: 'অন্যান্য আয় (ডিভিডেন্ড, সুদ ইত্যাদি)। উদাহরণ: ০',
        rent_tip: 'মাসিক বাড়ি ভাড়া। উদাহরণ: ১৬০০০',
        life_tip: 'বার্ষিক লাইফ ইন্স্যুরেন্স প্রিমিয়াম। উদাহরণ: ৫০০০',
        nsc_tip: 'এনএসসি-তে বার্ষিক বিনিয়োগ। উদাহরণ: ১০০০০০',
        dps_tip: 'ডিপিএস বা পেনশন ফান্ডে বার্ষিক জমা। উদাহরণ: ১২০০০',
        mutual_tip: 'মিউচুয়াল ফান্ড বা শেয়ারে বিনিয়োগ। উদাহরণ: ৫০০০০',
        donation_tip: 'সরকারি কল্যাণ বা প্রধানমন্ত্রীর তহবিলে অনুদান (রসিদসহ)। উদাহরণ: ২০০০',
        energy_tip: 'এনার্জি-সাশ্রয়ী যন্ত্রপাতি (ফ্রিজ, ফ্যান, এসি ইত্যাদি)। উদাহরণ: ১৫০০০',
        computer_tip: 'শিক্ষা/পেশার জন্য কম্পিউটার/ল্যাপটপ ক্রয়। উদাহরণ: ৩০০০০',
        conveyance_tip: 'বার্ষিক কনভেয়েন্স অ্যালাউন্স (করমুক্ত)। উদাহরণ: ০',
        medical_tip: 'বার্ষিক মেডিকেল অ্যালাউন্স (করমুক্ত)। উদাহরণ: ০',
      }
    };
    function setLang(lang) {
      for (const key in dict[lang]) {
        const el = document.getElementById(key);
        if (el) {
          if (key === 'submit_btn') el.textContent = dict[lang][key];
          else el.textContent = dict[lang][key];
        }
      }
      // Gender options
      const genderSel = document.querySelector('select[name="gender"]');
      genderSel.options[0].text = dict[lang].male;
      genderSel.options[1].text = dict[lang].female;
      // Marital status options
      const maritalSel = document.querySelector('select[name="marital_status"]');
      maritalSel.options[0].text = dict[lang].single;
      maritalSel.options[1].text = dict[lang].married;
      // Tooltips
      for (const tip in tooltips[lang]) {
        const el = document.getElementById(tip);
        if (el) el.textContent = tooltips[lang][tip];
      }
      document.documentElement.lang = lang === 'bn' ? 'bn' : 'en';
      localStorage.setItem('lang', lang);
    }
    const langSel = document.getElementById('lang');
    langSel.addEventListener('change', function(e) {
      setLang(e.target.value);
    });
    // On load, use localStorage or default to en
    const savedLang = localStorage.getItem('lang') || 'en';
    langSel.value = savedLang;
    setLang(savedLang);
    // Show tooltip on focus for accessibility (mobile)
    document.querySelectorAll('.group [tabindex="0"]').forEach(el => {
      el.addEventListener('focus', function() {
        this.querySelector('span').classList.remove('hidden');
      });
      el.addEventListener('blur', function() {
        this.querySelector('span').classList.add('hidden');
      });
    });
  </script>
</body>
</html>
